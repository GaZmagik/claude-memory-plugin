# v1.1.0 Pre-Shipping Review

**Date**: 2026-01-25
**Branch**: feature/002-v1.1.0-enhancements
**Reviewers**: documentation-accuracy-expert, security-code-expert

---

## Summary

| Category | Critical | Medium | Low |
|----------|----------|--------|-----|
| Documentation | 1 | 3 | 1 |
| Security | 0 | 1 | 2 |
| **Total** | **1** | **4** | **3** |

---

## Critical Issues

### DOC-001: README injection config uses wrong YAML format

**File**: `README.md` (lines 73-80)
**Severity**: CRITICAL

**Current (incorrect)**:
```yaml
inject_decisions: true
inject_learnings: true
```

**Correct format** (from memory.example.md):
```yaml
injection:
  types:
    decision:
      enabled: true
    learning:
      enabled: true
```

**Impact**: Users following README will create invalid config; injection silently fails.

**Status**: [X] Fixed

---

## Medium Issues

### DOC-002: Missing injection docs in SKILL.md

**File**: `skills/memory/SKILL.md`
**Severity**: Medium

SKILL.md documents think flags but not memory injection configuration.

**Status**: [X] Fixed

---

### DOC-003: Hook multipliers not explained in README

**File**: `README.md`
**Severity**: Medium

README mentions enhanced injection but doesn't explain hook multipliers (Read 1.0, Edit 0.8, Write 0.8, Bash 1.2).

**Status**: [X] Fixed

---

### DOC-004: Provider CLI installation not documented

**File**: `README.md`
**Severity**: Medium

Cross-provider calling documented but no mention that codex/gemini CLIs must be installed.

**Status**: [X] Fixed

---

### SEC-001: Use execFileSync instead of shell command in detect.ts

**File**: `skills/memory/src/think/providers/detect.ts` (line 16)
**Severity**: Medium

Provider detection uses shell command. Should use execFileSync for consistency with codebase security patterns.

**Status**: [X] Fixed

---

## Low Issues

### SEC-002: Path traversal in hint-tracker sessionId

**File**: `skills/memory/src/cli/hint-tracker.ts`
**Severity**: Low

SessionId from environment used in file path without sanitisation. Low risk as sessionId comes from Claude Code.

**Status**: [X] Deferred (trusted input)

---

### SEC-003: Info disclosure in error logs

**File**: Various error handlers
**Severity**: Low

Some error messages may include file paths. Low risk for CLI tool.

**Status**: [X] Deferred (acceptable for CLI)

---

### DOC-005: Auto-selector fallback chain not documented

**File**: `README.md`
**Severity**: Low

CHANGELOG mentions "Ollama -> Heuristics -> Default" but README doesn't explain clearly.

**Status**: [X] Fixed

---

## Fix Plan

1. **DOC-001** (Critical): Fix README injection config format
2. **SEC-001** (Medium): Replace shell command with execFileSync in detect.ts
3. **DOC-002** (Medium): Add injection config section to SKILL.md
4. **DOC-003** (Medium): Document hook multipliers in README
5. **DOC-004** (Medium): Add CLI installation note to README
6. **DOC-005** (Low): Document fallback chain in README
